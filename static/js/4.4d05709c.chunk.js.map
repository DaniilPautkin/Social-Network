{"version":3,"sources":["styles/Profile-styles.tsx","components/Profile/Profileinfo/ProfileDataForm.tsx","components/Profile/Profileinfo/ProfileStatus.tsx","components/Profile/Profileinfo/Profileinfo.tsx","styles/Posts-styles.tsx","components/Profile/MyPosts/AddPostForm/AddPostForm.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["styled","div","Description","ProfileImage","img","SingleForm","ChooseFileForm","Input","Colors","greenColor","Contacts","EditContacts","StyledContact","EditStyledContact","ContactTitle","Field","StatusLine","StyledStatusInput","StyledAddPostForm","Form","Likes","Text","StyledSpan","span","Status","ProfileInfoItem","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profile","error","onSubmit","onClick","createField","RFInput","RFCheckbox","type","RFTextarea","Object","keys","contacts","map","key","code","ProfileStatus","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","ProfileData","isOwner","activateEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Contact","contactTitle","contactValue","Profileinfo","savePhoto","saveProfile","Preloader","src","photos","large","userPhoto","alt","name","target","files","length","initialValues","formData","then","PostsContainer","PostElemets","PostImg","StyledPost","required","Post","userphoto","message","likesCount","MyPostsMemoized","React","memo","postsElements","posts","reverse","p","id","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","actions","MyPosts","Profile","ProfileContainer","Component","refreshProfile","userId","this","match","params","loggedUserId","history","push","getUserProfile","getStatus","console","componentDidMount","componentDidUpdate","prevProps","prevState","render","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.4d05709c.chunk.js","sourcesContent":["import styled from 'styled-components'\r\nimport { Input } from 'antd'\r\nimport { Colors } from './App-styles'\r\nimport Form from 'antd/lib/form/Form'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport { Field } from 'redux-form'\r\n\r\nexport const MissingStatusBar = styled.div`\r\n    margin: 5px;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n    color: #ffffff;\r\n    background-color: #66fcf1;\r\n    font-weight: 300;\r\n\r\n    :hover {\r\n        background-color: rgb(0, 0, 0, 0);\r\n    }\r\n`\r\n\r\nexport const Description = styled.div`\r\n    padding: 10px;\r\n`\r\n\r\nexport const ProfileImage = styled.img`\r\n    height: 100px;\r\n    margin: 5px 5px 0px 5px;\r\n    border-radius: 10px;\r\n`\r\n\r\nexport const SingleForm = styled.div`\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n`\r\n\r\nexport const ChooseFileForm = styled(Input)`\r\n    cursor: pointer;\r\n    width: 300px;\r\n    border-radius: 10px;\r\n    margin: 10px;\r\n    color: rgba(0, 0, 0, 0.7);\r\n\r\n    ::-webkit-file-upload-button {\r\n        visibility: hidden;\r\n    }\r\n    :focus {\r\n        box-shadow: none;\r\n        background: ${Colors.greenColor};\r\n        color: #fff;\r\n    }\r\n    ::before {\r\n        content: 'Select...';\r\n    }\r\n    ::after {\r\n        content: '';\r\n    }\r\n    :hover {\r\n        border: 1px solid ${Colors.greenColor} !important;\r\n        cursor: pointer;\r\n    }\r\n`\r\n\r\nexport const Contacts = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    cursor: default;\r\n    /* display: grid; */\r\n    /* grid-template-areas: 'contact input'; */\r\n`\r\n\r\nexport const EditContacts = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    cursor: default;\r\n    /* display: grid; */\r\n    /* grid-template-areas: 'contact input'; */\r\n`\r\n\r\nexport const StyledContact = styled.div`\r\n    /* grid-area: contact; */\r\n    padding: 2px 5px 2px;\r\n    border-radius: 2px;\r\n    margin-left: 10px;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: row;\r\n    :not(:first-child) {\r\n        margin-top: 10px;\r\n    }\r\n    Input {\r\n        width: 400px;\r\n    }\r\n`\r\nexport const EditStyledContact = styled.div`\r\n    /* grid-area: contact; */\r\n    padding: 2px 5px 2px;\r\n    border-radius: 2px;\r\n    margin-left: 10px;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    :not(:first-child) {\r\n        margin-top: 10px;\r\n    }\r\n    Input {\r\n        width: 400px;\r\n    }\r\n`\r\n\r\nexport const ContactInputField = styled(Field)`\r\n    grid-area: input;\r\n`\r\nexport const ProfileContainer = styled.div`\r\n    border-radius: 5px;\r\n    grid-area: cont;\r\n`\r\n\r\nexport const ContactTitle = styled.div`\r\n    color: rgba(0, 0, 0, 0.5);\r\n    margin-right: 5px;\r\n    font-weight: 600;\r\n`\r\n\r\nexport const StatusLine = styled.div`\r\n    color: rgba(0, 0, 0, 0.5);\r\n    font-size: 17px;\r\n    font-weight: 600px;\r\n    margin-right: 5px;\r\n`\r\n\r\nexport const StyledStatusInput = styled(Input)`\r\n    width: 40%;\r\n    border-radius: 5px;\r\n    transition: 0.3s ease-in-out;\r\n    :hover,\r\n    :active,\r\n    :focus {\r\n        box-shadow: none;\r\n        border: 1px solid ${Colors.greenColor};\r\n    }\r\n`\r\n\r\nexport const StyledAddPostForm = styled(Form)`\r\n    display: flex;\r\n    flex-direction: row;\r\n    width: 80%;\r\n    button {\r\n        margin-left: 5px !important;\r\n    }\r\n`\r\n\r\nexport const Likes = styled(Text)`\r\n    color: rgba(0, 0, 0, 0.5);\r\n`\r\n\r\nexport const StyledSpan = styled.span`\r\n    cursor: pointer;\r\n    margin-left: 10px;\r\n`\r\n\r\nexport const Status = styled.div`\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`\r\n\r\nexport const ProfileInfoItem = styled.div`\r\n    display: flex;\r\n    flex-direction: row !important;\r\n    b {\r\n        margin-right: 5px;\r\n        color: rgba(0, 0, 0, 0.5);\r\n    }\r\n`\r\n","import { Button } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport React from 'react'\r\nimport { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { FormSummaryError } from '../../../styles/FormsControls-styles'\r\nimport {\r\n    EditContacts,\r\n    EditStyledContact,\r\n    SingleForm,\r\n} from '../../../styles/Profile-styles'\r\nimport { ProfileType } from '../../../types/types'\r\nimport {\r\n    createField,\r\n    GetStringKeys,\r\n    RFInput,\r\n    RFTextarea,\r\n    RFCheckbox,\r\n} from '../../common/FormsControls/FormsControls'\r\n\r\nconst ProfileDataForm: React.FC<\r\n    InjectedFormProps<ProfileType, PropsType> & PropsType\r\n> = ({ handleSubmit, profile, error }) => {\r\n    return (\r\n        // FIX:\r\n        <form onSubmit={handleSubmit}>\r\n            <Button onClick={handleSubmit}>Save</Button>\r\n            {error && <FormSummaryError>{error}</FormSummaryError>}\r\n            <SingleForm>\r\n                <b>Fullname:</b>{' '}\r\n                <div>\r\n                    {createField<ProfileTypeKeys>(\r\n                        'Full name',\r\n                        'fullName',\r\n                        [],\r\n                        RFInput\r\n                    )}\r\n                </div>\r\n            </SingleForm>\r\n\r\n            <SingleForm>\r\n                <div>\r\n                    <b>Looking for a job:</b>{' '}\r\n                    {createField<ProfileTypeKeys>(\r\n                        '',\r\n                        'lookingForAJob',\r\n                        [],\r\n                        RFCheckbox,\r\n                        {\r\n                            type: 'checkbox',\r\n                        }\r\n                    )}\r\n                </div>\r\n            </SingleForm>\r\n\r\n            <SingleForm>\r\n                <b>Skills and background:</b>{' '}\r\n                <div>\r\n                    {createField<ProfileTypeKeys>(\r\n                        'Skills and background',\r\n                        'lookingForAJobDescription',\r\n                        [],\r\n                        RFTextarea\r\n                    )}\r\n                </div>\r\n            </SingleForm>\r\n\r\n            <SingleForm>\r\n                <b>About me:</b>{' '}\r\n                <div>\r\n                    {createField<ProfileTypeKeys>(\r\n                        'About me',\r\n                        'aboutMe',\r\n                        [],\r\n                        RFTextarea\r\n                    )}\r\n                </div>\r\n            </SingleForm>\r\n\r\n            <EditContacts>\r\n                <b>Contacts:</b>{' '}\r\n                {Object.keys(profile.contacts).map((key) => {\r\n                    // TODO: create some solution for embedded objects\r\n                    return (\r\n                        <EditStyledContact key={key}>\r\n                            <Text code>{key}: </Text>\r\n                            {createField(key, 'contacts.' + key, [], RFInput)}\r\n                        </EditStyledContact>\r\n                    )\r\n                })}\r\n            </EditContacts>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, PropsType>({\r\n    form: 'edit-profile',\r\n})(ProfileDataForm)\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n}\r\n\r\ntype ProfileTypeKeys = GetStringKeys<ProfileType>\r\n\r\nexport default ProfileDataFormReduxForm\r\n","import Text from 'antd/lib/typography/Text'\r\nimport React, { ChangeEvent, useEffect, useState } from 'react'\r\nimport {\r\n    Status,\r\n    StatusLine,\r\n    StyledSpan,\r\n    StyledStatusInput,\r\n} from '../../../styles/Profile-styles'\r\n\r\ntype PropsType = {\r\n    updateStatus: (newStatus: string) => void\r\n    status: string\r\n}\r\n\r\nconst ProfileStatus = (props: PropsType) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div>\r\n            {!editMode && (\r\n                <Status>\r\n                    <StatusLine>Status: </StatusLine>\r\n                    <StyledSpan onDoubleClick={activateEditMode}>\r\n                        {props.status || <Text code>No status</Text>}\r\n                    </StyledSpan>\r\n                </Status>\r\n            )}\r\n            {editMode && (\r\n                <Status>\r\n                    <StatusLine>Status: </StatusLine>\r\n                    <StyledStatusInput\r\n                        onChange={onStatusChange}\r\n                        onBlur={deactivateEditMode}\r\n                        value={status}\r\n                    />\r\n                </Status>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus\r\n","import React, { ChangeEvent, useState } from 'react'\r\nimport userPhoto from '../../../assets/images/USER.png'\r\nimport { StyledButton } from '../../../styles/App-styles'\r\nimport {\r\n    ChooseFileForm,\r\n    Contacts,\r\n    ContactTitle,\r\n    Description,\r\n    ProfileImage,\r\n    ProfileInfoItem,\r\n    StyledContact,\r\n} from '../../../styles/Profile-styles'\r\nimport { ContactsType, ProfileType } from '../../../types/types'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport ProfileDataFormReduxForm from './ProfileDataForm'\r\nimport ProfileStatus from './ProfileStatus'\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (props: ProfileType) => Promise<any>\r\n}\r\n\r\nconst Profileinfo: React.FC<PropsType> = ({\r\n    isOwner,\r\n    profile,\r\n    status,\r\n    updateStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n}) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelect = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n        // TODO: remove then\r\n        saveProfile(formData).then(() => {\r\n            setEditMode(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Description>\r\n            <div>\r\n                <ProfileImage src={profile.photos.large || userPhoto} alt=\"\" />\r\n                {isOwner && (\r\n                    <div>\r\n                        {/* <label htmlFor=\"inputFile\">Upload photo</label> */}\r\n                        <ChooseFileForm\r\n                            name=\"inputFile\"\r\n                            type={'file'}\r\n                            onChange={onMainPhotoSelect}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {editMode ? (\r\n                    <ProfileDataFormReduxForm\r\n                        initialValues={profile}\r\n                        onSubmit={onSubmit}\r\n                        profile={profile}\r\n                    />\r\n                ) : (\r\n                    <ProfileData\r\n                        activateEditMode={() => {\r\n                            setEditMode(true)\r\n                        }}\r\n                        profile={profile}\r\n                        isOwner={isOwner}\r\n                    />\r\n                )}\r\n\r\n                <ProfileStatus status={status} updateStatus={updateStatus} />\r\n            </div>\r\n        </Description>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    activateEditMode: () => void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({\r\n    profile,\r\n    isOwner,\r\n    activateEditMode,\r\n}) => {\r\n    return (\r\n        <div>\r\n            {isOwner && (\r\n                <StyledButton onClick={activateEditMode}>Edit</StyledButton>\r\n            )}\r\n\r\n            <ProfileInfoItem>\r\n                <b>Fullname:</b> <div>{profile.fullName}</div>\r\n            </ProfileInfoItem>\r\n\r\n            <ProfileInfoItem>\r\n                <b>Looking for a job:</b>{' '}\r\n                <div>{profile.lookingForAJob ? 'yes' : 'no'}</div>\r\n            </ProfileInfoItem>\r\n            <ProfileInfoItem>\r\n                <b>Skills and background:</b>{' '}\r\n                {profile.lookingForAJob && (\r\n                    <div>{profile.lookingForAJobDescription}</div>\r\n                )}\r\n            </ProfileInfoItem>\r\n\r\n            <ProfileInfoItem>\r\n                <b>About me:</b> {profile.aboutMe}\r\n            </ProfileInfoItem>\r\n\r\n            <Contacts>\r\n                <b>Contacts:</b>{' '}\r\n                {Object.keys(profile.contacts).map((key) => {\r\n                    return (\r\n                        <Contact\r\n                            key={key}\r\n                            contactTitle={key}\r\n                            contactValue={\r\n                                profile.contacts[key as keyof ContactsType]\r\n                            }\r\n                        />\r\n                    )\r\n                })}\r\n            </Contacts>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({\r\n    contactTitle,\r\n    contactValue,\r\n}) => {\r\n    return (\r\n        <StyledContact>\r\n            <ContactTitle>{contactTitle}: </ContactTitle> {contactValue}\r\n        </StyledContact>\r\n    )\r\n}\r\n\r\nexport default Profileinfo\r\n","import styled from 'styled-components'\r\nimport { Input } from 'antd'\r\n\r\nexport const PostsContainer = styled.div`\r\n    padding: 10px;\r\n`\r\n\r\nexport const PostElemets = styled.div``\r\n\r\nexport const PostInput = styled(Input)`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n`\r\n\r\nexport const PostImg = styled.img`\r\n    margin: 1px 5px 1px 0px;\r\n    height: 20px;\r\n`\r\n\r\nexport const StyledPost = styled.div`\r\n    color: black;\r\n`\r\n","import React from 'react'\r\nimport { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { StyledButton } from '../../../../styles/App-styles'\r\nimport { StyledAddPostForm } from '../../../../styles/Profile-styles'\r\nimport { required } from '../../../../utils/validators/validators'\r\nimport {\r\n    createField,\r\n    GetStringKeys,\r\n    RFInput,\r\n} from '../../../common/FormsControls/FormsControls'\r\n\r\ntype PropsType = {}\r\n\r\nexport type AddPostValuesType = {\r\n    newPostText: string\r\n}\r\n\r\ntype AddPostFormValuesTypeKeys = GetStringKeys<AddPostValuesType>\r\n\r\nconst AddPostForm: React.FC<\r\n    InjectedFormProps<AddPostValuesType, PropsType> & PropsType\r\n> = (props) => {\r\n    return (\r\n        <StyledAddPostForm>\r\n            <div>\r\n                {createField<AddPostFormValuesTypeKeys>(\r\n                    'Post',\r\n                    'newPostText',\r\n                    [required],\r\n                    RFInput\r\n                )}\r\n            </div>\r\n            <div>\r\n                <StyledButton onClick={props.handleSubmit}>Post</StyledButton>\r\n            </div>\r\n        </StyledAddPostForm>\r\n    )\r\n}\r\nexport default reduxForm<AddPostValuesType, PropsType>({\r\n    form: 'profile-add-post',\r\n})(AddPostForm)\r\n","import React from 'react'\r\nimport userphoto from '../../../../assets/images/USER.png'\r\nimport { StyledPost, PostImg } from '../../../../styles/Posts-styles'\r\nimport { Likes } from '../../../../styles/Profile-styles'\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <StyledPost>\r\n            <h2>\r\n                {' '}\r\n                <PostImg alt=\"\" src={userphoto} />\r\n                {props.message}\r\n            </h2>\r\n            <Likes>Likes {props.likesCount}</Likes>\r\n        </StyledPost>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport { PostElemets, PostsContainer } from '../../../styles/Posts-styles'\r\nimport { PostType } from '../../../types/types'\r\nimport AddNewPostFormRedux, {\r\n    AddPostValuesType,\r\n} from './AddPostForm/AddPostForm'\r\nimport Post from './Post/Post'\r\n\r\nexport type MapPropsType = {\r\n    posts: Array<PostType>\r\n}\r\n\r\nexport type DispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nconst MyPosts: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n    let postsElements = [...props.posts]\r\n        .reverse()\r\n        .map((p) => (\r\n            <Post key={p.id} message={p.message} likesCount={p.likesCount} />\r\n        ))\r\n\r\n    let onAddPost = (values: AddPostValuesType) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <PostsContainer>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={onAddPost} />\r\n            <PostElemets>{postsElements}</PostElemets>\r\n        </PostsContainer>\r\n    )\r\n}\r\n\r\nconst MyPostsMemoized = React.memo(MyPosts)\r\n\r\nexport default MyPostsMemoized\r\n","// import Post from \"./Post/Post\";\r\nimport { actions } from '../../../redux/profile-reducer'\r\nimport MyPosts, { MapPropsType, DispatchPropsType } from './MyPosts'\r\nimport { connect } from 'react-redux'\r\nimport { AppStateType } from '../../../redux/redux-store'\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    } as MapPropsType\r\n}\r\n\r\nconst MyPostsContainer = connect<\r\n    MapPropsType,\r\n    DispatchPropsType,\r\n    {},\r\n    AppStateType\r\n>(mapStateToProps, { addPost: actions.addPost })(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import React from 'react'\r\nimport Profileinfo from './Profileinfo/Profileinfo'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport { ProfileType } from '../../types/types'\r\n\r\ntype PropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (props: ProfileType) => Promise<any>\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner: boolean\r\n}\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div>\r\n            <Profileinfo\r\n                saveProfile={props.saveProfile}\r\n                savePhoto={props.savePhoto}\r\n                isOwner={props.isOwner}\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport Profile from './Profile'\r\nimport {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n} from '../../redux/profile-reducer'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { compose } from 'redux'\r\nimport { AppStateType } from '../../redux/redux-store'\r\nimport { ProfileType } from '../../types/types'\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (props: ProfileType) => Promise<any>\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype PropsType = MapPropsType &\r\n    DispatchPropsType &\r\n    RouteComponentProps<PathParamsType>\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.loggedUserId\r\n            // TODO: change history.push to Redirect\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        if (!userId) {\r\n            console.error('userId is missing in URI or state')\r\n        } else {\r\n            this.props.getUserProfile(userId)\r\n            this.props.getStatus(userId)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile\r\n                    {...this.props}\r\n                    isOwner={!this.props.match.params.userId}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateStatus}\r\n                    savePhoto={this.props.savePhoto}\r\n                    saveProfile={this.props.saveProfile}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        getUserProfile,\r\n        getStatus,\r\n        updateStatus,\r\n        savePhoto,\r\n        saveProfile,\r\n    }),\r\n    withRouter\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}